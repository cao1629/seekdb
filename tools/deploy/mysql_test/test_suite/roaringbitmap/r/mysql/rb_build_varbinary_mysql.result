# ----------------------------------------------------------------------
# Base test of rb_build_varbinary.
# ----------------------------------------------------------------------
drop table if exists t1,t2;
select hex(rb_build_varbinary(null));
hex(rb_build_varbinary(null))
NULL
select hex(rb_build_varbinary(''));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x''));
ERROR HY000: Invalid data
select hex(rb_build_varbinary('aa'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(2));
ERROR HY000: invalid type given for an argument
select hex(rb_build_varbinary(x'0100'));
hex(rb_build_varbinary(x'0100'))
0100
select hex(rb_build_varbinary(x'0200'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'010101000000'));
hex(rb_build_varbinary(x'010101000000'))
010101000000
select hex(rb_build_varbinary(x'01010100000000000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01020100000001000000'));
hex(rb_build_varbinary(x'01020100000001000000'))
01020100000001000000
select hex(rb_build_varbinary(x'010201000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'0103'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'010300'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'010301'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01030101000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'0103020100000002000000'));
hex(rb_build_varbinary(x'0103020100000002000000'))
0103020100000002000000
select hex(rb_build_varbinary(x'0103010100000002000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'0104'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'010400'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'010401'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01040101000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'0104010100000001000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'0104010100000000000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01040201000000000000000200000000000000'));
hex(rb_build_varbinary(x'01040201000000000000000200000000000000'))
0103020100000002000000
select hex(rb_build_varbinary(x'01040201000000000000000100000000000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01040201000000010000000100000001000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01040201000000010000000100000002000000'));
hex(rb_build_varbinary(x'01040201000000010000000100000002000000'))
01040201000000020000000100000001000000
select hex(rb_build_varbinary(x'0105'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'010500'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01053a300000000000000100'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01053a300000000000'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01053a30000000000000'));
hex(rb_build_varbinary(x'01053a30000000000000'))
0100
select hex(rb_build_varbinary(x'01053a3000000100000000000000100000000100'));
hex(rb_build_varbinary(x'01053a3000000100000000000000100000000100'))
010101000000
select hex(rb_build_varbinary(x'01053a30000001000000000001001000000001000200'));
hex(rb_build_varbinary(x'01053a30000001000000000001001000000001000200'))
0103020100000002000000
select hex(rb_build_varbinary(x'01053a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00'));
hex(rb_build_varbinary(x'01053a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00'))
010320000000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C0000000D0000000E0000000F000000100000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001C0000001D0000001E0000001F000000
select hex(rb_build_varbinary(x'0106'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'010600'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01060000000000000000'));
hex(rb_build_varbinary(x'01060000000000000000'))
0100
select hex(rb_build_varbinary(x'01060100000000000000000000003a30000001000000000000001000000001000200'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01060100000000000000000000003a30000001000000000000001000000001'));
ERROR HY000: Invalid data
select hex(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000000000100000000100'));
hex(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000000000100000000100'))
010101000000
select hex(rb_build_varbinary(x'01060100000000000000010000003a3000000100000000000000100000000000'));
hex(rb_build_varbinary(x'01060100000000000000010000003a3000000100000000000000100000000000'))
01020000000001000000
select hex(rb_build_varbinary(x'01060100000000000000000000003a30000001000000000001001000000001000200'));
hex(rb_build_varbinary(x'01060100000000000000000000003a30000001000000000001001000000001000200'))
0103020100000002000000
select hex(rb_build_varbinary(x'01060200000000000000000000003a3000000100000000000000100000000100010000003a3000000100000000000000100000000000'));
hex(rb_build_varbinary(x'01060200000000000000000000003a3000000100000000000000100000000100010000003a3000000100000000000000100000000000'))
01040201000000000000000000000001000000
select hex(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00'));
hex(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00'))
010320000000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C0000000D0000000E0000000F000000100000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001C0000001D0000001E0000001F000000
select hex(rb_build_varbinary(x'01060200000000000000000000003a30000001000000ffff000010000000ffff010000003a3000000100000000001e001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e00'));
hex(rb_build_varbinary(x'01060200000000000000000000003a30000001000000ffff000010000000ffff010000003a3000000100000000001e001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e00')
0104200B000000010000000C000000010000000D000000010000000E000000010000000F0000000100000010000000010000001100000001000000120000000100000013000000010000001400000001000000150000000100000016000000010000001700000001000000180000000100000019000000010000001A000000010000001B000000010000001C000000010000001D000000010000001E00000001000000FFFFFFFF0000000000000000010000000100000001000000020000000100000003000000010000000400000001000000050000000100000006000000010000000700000001000000080000000100000009000000010000000A00000001000000
select hex(rb_build_varbinary(x'01062000000000000000000000003a3000000100000000000000100000000000010000003a3000000100000000000000100000000000020000003a3000000100000000000000100000000000030000003a3000000100000000000000100000000000040000003a3000000100000000000000100000000000050000003a3000000100000000000000100000000000060000003a3000000100000000000000100000000000070000003a3000000100000000000000100000000000080000003a3000000100000000000000100000000000090000003a30000001000000000000001000000000000a0000003a30000001000000000000001000000000000b0000003a30000001000000000000001000000000000c0000003a30000001000000000000001000000000000d0000003a30000001000000000000001000000000000e0000003a30000001000000000000001000000000000f0000003a3000000100000000000000100000000000100000003a3000000100000000000000100000000000110000003a3000000100000000000000100000000000120000003a3000000100000000000000100000000000130000003a3000000100000000000000100000000000140000003a3000000100000000000000100000000000150000003a3000000100000000000000100000000000160000003a3000000100000000000000100000000000170000003a3000000100000000000000100000000000180000003a3000000100000000000000100000000000190000003a30000001000000000000001000000000001a0000003a30000001000000000000001000000000001b0000003a30000001000000000000001000000000001c0000003a30000001000000000000001000000000001d0000003a30000001000000000000001000000000001e0000003a30000001000000000000001000000000001f0000003a3000000100000000000000100000000000'));
hex(rb_build_varbinary(x'01062000000000000000000000003a3000000100000000000000100000000000010000003a3000000100000000000000100000000000020000003a3000000100000000000000100000000000030000003a3000000100000000000000100000000000040000003a300000010000000000000010
010420000000000000000000000000180000000000000013000000000000000E00000000000000090000000000000004000000000000001C00000000000000170000000000000012000000000000000D00000000000000080000000000000003000000000000001B00000000000000160000000000000011000000000000000C0000000000000007000000000000001F0000000000000002000000000000001A00000000000000150000000000000010000000000000000B0000000000000006000000000000001E000000000000000100000000000000190000000000000014000000000000000F000000000000000A0000000000000005000000000000001D000000
test: rb_to_varbinary
select rb_to_varbinary(1);
ERROR HY000: invalid type given for an argument
select rb_to_varbinary(x'0100');
ERROR HY000: invalid type given for an argument
select rb_to_varbinary(rb_build_varbinary(x'0100'), 'Roari');
ERROR 0A000: expected format except 'roaring' is not supported
select rb_to_varbinary(rb_build_varbinary(x'0100'), 'R');
ERROR 0A000: expected format except 'roaring' is not supported
select rb_to_varbinary(rb_build_varbinary(x'0100'), '');
ERROR 0A000: expected format except 'roaring' is not supported
select rb_to_varbinary(rb_build_varbinary(x'0100'), 1);
ERROR HY000: invalid type given for an argument
select hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'Roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'Roaring'))
01053A30000000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'ROARING'));
hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'ROARING'))
01053A30000000000000
create table t1(rb roaringbitmap);
INSERT INTO t1 values(rb_build_varbinary(x'0100')),
(rb_build_varbinary(x'010101000000')),
(rb_build_varbinary(x'01020100000001000000')),
(rb_build_varbinary(x'0103020100000002000000')),
(rb_build_varbinary(x'01040201000000010000000100000002000000')),
(rb_build_varbinary(x'01053a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00')),
(rb_build_varbinary(x'01062000000000000000000000003a3000000100000000000000100000000000010000003a3000000100000000000000100000000000020000003a3000000100000000000000100000000000030000003a3000000100000000000000100000000000040000003a3000000100000000000000100000000000050000003a3000000100000000000000100000000000060000003a3000000100000000000000100000000000070000003a3000000100000000000000100000000000080000003a3000000100000000000000100000000000090000003a30000001000000000000001000000000000a0000003a30000001000000000000001000000000000b0000003a30000001000000000000001000000000000c0000003a30000001000000000000001000000000000d0000003a30000001000000000000001000000000000e0000003a30000001000000000000001000000000000f0000003a3000000100000000000000100000000000100000003a3000000100000000000000100000000000110000003a3000000100000000000000100000000000120000003a3000000100000000000000100000000000130000003a3000000100000000000000100000000000140000003a3000000100000000000000100000000000150000003a3000000100000000000000100000000000160000003a3000000100000000000000100000000000170000003a3000000100000000000000100000000000180000003a3000000100000000000000100000000000190000003a30000001000000000000001000000000001a0000003a30000001000000000000001000000000001b0000003a30000001000000000000001000000000001c0000003a30000001000000000000001000000000001d0000003a30000001000000000000001000000000001e0000003a30000001000000000000001000000000001f0000003a3000000100000000000000100000000000'));
select hex(rb) from t1;
hex(rb)
0100
010101000000
01020100000001000000
0103020100000002000000
01040201000000020000000100000001000000
010320000000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C0000000D0000000E0000000F000000100000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001C0000001D0000001E0000001F000000
010420000000000000000000000000180000000000000013000000000000000E00000000000000090000000000000004000000000000001C00000000000000170000000000000012000000000000000D00000000000000080000000000000003000000000000001B00000000000000160000000000000011000000000000000C0000000000000007000000000000001F0000000000000002000000000000001A00000000000000150000000000000010000000000000000B0000000000000006000000000000001E000000000000000100000000000000190000000000000014000000000000000F000000000000000A0000000000000005000000000000001D000000
select hex(rb_to_varbinary(rb)) from t1;
hex(rb_to_varbinary(rb))
0100
010101000000
01020100000001000000
0103020100000002000000
01040201000000020000000100000001000000
010320000000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C0000000D0000000E0000000F000000100000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001C0000001D0000001E0000001F000000
010420000000000000000000000000180000000000000013000000000000000E00000000000000090000000000000004000000000000001C00000000000000170000000000000012000000000000000D00000000000000080000000000000003000000000000001B00000000000000160000000000000011000000000000000C0000000000000007000000000000001F0000000000000002000000000000001A00000000000000150000000000000010000000000000000B0000000000000006000000000000001E000000000000000100000000000000190000000000000014000000000000000F000000000000000A0000000000000005000000000000001D000000
create table t2(rb_bin varbinary(100), rb roaringbitmap generated always as (rb_build_varbinary(rb_bin)));
INSERT INTO t2(rb_bin) values(x'0100'), (x'010101000000');
select hex(rb_bin), hex(rb) from t2;
hex(rb_bin)	hex(rb)
0100	0100
010101000000	010101000000
test: rb_to_varbinary inner format
select hex(rb_to_varbinary(rb_build_varbinary(x'0100')));
hex(rb_to_varbinary(rb_build_varbinary(x'0100')))
0100
select hex(rb_to_varbinary(rb_build_varbinary(x'010101000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'010101000000')))
010101000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01020100000001000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'01020100000001000000')))
01020100000001000000
select hex(rb_to_varbinary(rb_build_varbinary(x'010300')));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'01030101000000')));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'0103020100000002000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'0103020100000002000000')))
0103020100000002000000
select hex(rb_to_varbinary(rb_build_varbinary(x'010400')));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'0104010100000001000000')));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'0104010100000000000000')));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000000000000200000000000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000000000000200000000000000')))
0103020100000002000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000000000000100000000000000')));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000010000000100000001000000')));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000010000000100000002000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000010000000100000002000000')))
01040201000000020000000100000001000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01053a30000000000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'01053a30000000000000')))
0100
select hex(rb_to_varbinary(rb_build_varbinary(x'01053a3000000100000000000000100000000100')));
hex(rb_to_varbinary(rb_build_varbinary(x'01053a3000000100000000000000100000000100')))
010101000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01053a30000001000000000001001000000001000200')));
hex(rb_to_varbinary(rb_build_varbinary(x'01053a30000001000000000001001000000001000200')))
0103020100000002000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01053a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00')));
hex(rb_to_varbinary(rb_build_varbinary(x'01053a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00')))
010320000000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C0000000D0000000E0000000F000000100000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001C0000001D0000001E0000001F000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060000000000000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'01060000000000000000')))
0100
select hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000000000100000000100')));
hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000000000100000000100')))
010101000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000010000003a3000000100000000000000100000000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000010000003a3000000100000000000000100000000000')))
01020000000001000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a30000001000000000001001000000001000200')));
hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a30000001000000000001001000000001000200')))
0103020100000002000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060200000000000000000000003a3000000100000000000000100000000100010000003a3000000100000000000000100000000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'01060200000000000000000000003a3000000100000000000000100000000100010000003a3000000100000000000000100000000000')))
01040201000000000000000000000001000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00')));
hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00')))
010320000000000100000002000000030000000400000005000000060000000700000008000000090000000A0000000B0000000C0000000D0000000E0000000F000000100000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001C0000001D0000001E0000001F000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060200000000000000000000003a30000001000000ffff000010000000ffff010000003a3000000100000000001e001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e00')));
hex(rb_to_varbinary(rb_build_varbinary(x'01060200000000000000000000003a30000001000000ffff000010000000ffff010000003a3000000100000000001e001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b
0104200B000000010000000C000000010000000D000000010000000E000000010000000F0000000100000010000000010000001100000001000000120000000100000013000000010000001400000001000000150000000100000016000000010000001700000001000000180000000100000019000000010000001A000000010000001B000000010000001C000000010000001D000000010000001E00000001000000FFFFFFFF0000000000000000010000000100000001000000020000000100000003000000010000000400000001000000050000000100000006000000010000000700000001000000080000000100000009000000010000000A00000001000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01062000000000000000000000003a3000000100000000000000100000000000010000003a3000000100000000000000100000000000020000003a3000000100000000000000100000000000030000003a3000000100000000000000100000000000040000003a3000000100000000000000100000000000050000003a3000000100000000000000100000000000060000003a3000000100000000000000100000000000070000003a3000000100000000000000100000000000080000003a3000000100000000000000100000000000090000003a30000001000000000000001000000000000a0000003a30000001000000000000001000000000000b0000003a30000001000000000000001000000000000c0000003a30000001000000000000001000000000000d0000003a30000001000000000000001000000000000e0000003a30000001000000000000001000000000000f0000003a3000000100000000000000100000000000100000003a3000000100000000000000100000000000110000003a3000000100000000000000100000000000120000003a3000000100000000000000100000000000130000003a3000000100000000000000100000000000140000003a3000000100000000000000100000000000150000003a3000000100000000000000100000000000160000003a3000000100000000000000100000000000170000003a3000000100000000000000100000000000180000003a3000000100000000000000100000000000190000003a30000001000000000000001000000000001a0000003a30000001000000000000001000000000001b0000003a30000001000000000000001000000000001c0000003a30000001000000000000001000000000001d0000003a30000001000000000000001000000000001e0000003a30000001000000000000001000000000001f0000003a3000000100000000000000100000000000')));
hex(rb_to_varbinary(rb_build_varbinary(x'01062000000000000000000000003a3000000100000000000000100000000000010000003a3000000100000000000000100000000000020000003a3000000100000000000000100000000000030000003a3000000100000000000000100000000000040000003a30000001
010420000000000000000000000000180000000000000013000000000000000E00000000000000090000000000000004000000000000001C00000000000000170000000000000012000000000000000D00000000000000080000000000000003000000000000001B00000000000000160000000000000011000000000000000C0000000000000007000000000000001F0000000000000002000000000000001A00000000000000150000000000000010000000000000000B0000000000000006000000000000001E000000000000000100000000000000190000000000000014000000000000000F000000000000000A0000000000000005000000000000001D000000
test: rb_to_varbinary to roaring format
select hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'roaring'))
01053A30000000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'010101000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'010101000000'), 'roaring'))
01053A3000000100000000000000100000000100
select hex(rb_to_varbinary(rb_build_varbinary(x'01020100000001000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01020100000001000000'), 'roaring'))
01060100000000000000010000003A3000000100000000000000100000000100
select hex(rb_to_varbinary(rb_build_varbinary(x'010300'), 'roaring'));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'01030101000000'), 'roaring'));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'0103020100000002000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'0103020100000002000000'), 'roaring'))
01053A30000001000000000001001000000001000200
select hex(rb_to_varbinary(rb_build_varbinary(x'010400'), 'roaring'));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'0104010100000001000000'), 'roaring'));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'0104010100000000000000'), 'roaring'));
ERROR HY000: Invalid data
select hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000000000000200000000000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000000000000200000000000000'), 'roaring'))
01053A30000001000000000001001000000001000200
select hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000010000000100000002000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01040201000000010000000100000002000000'), 'roaring'))
01060200000000000000010000003A3000000100000000000000100000000100020000003A3000000100000000000000100000000100
select hex(rb_to_varbinary(rb_build_varbinary(x'01053a30000000000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01053a30000000000000'), 'roaring'))
01053A30000000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01053a3000000100000000000000100000000100'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01053a3000000100000000000000100000000100'), 'roaring'))
01053A3000000100000000000000100000000100
select hex(rb_to_varbinary(rb_build_varbinary(x'01053a30000001000000000001001000000001000200'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01053a30000001000000000001001000000001000200'), 'roaring'))
01053A30000001000000000001001000000001000200
select hex(rb_to_varbinary(rb_build_varbinary(x'01053a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01053a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00'), 'roaring'))
01053A3000000100000000001F001000000000000100020003000400050006000700080009000A000B000C000D000E000F0010001100120013001400150016001700180019001A001B001C001D001E001F00
select hex(rb_to_varbinary(rb_build_varbinary(x'01060000000000000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01060000000000000000'), 'roaring'))
01053A30000000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000000000100000000100'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000000000100000000100'), 'roaring'))
01053A3000000100000000000000100000000100
select hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000010000003a3000000100000000000000100000000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000010000003a3000000100000000000000100000000000'), 'roaring'))
01060100000000000000010000003A3000000100000000000000100000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a30000001000000000001001000000001000200'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a30000001000000000001001000000001000200'), 'roaring'))
01053A30000001000000000001001000000001000200
select hex(rb_to_varbinary(rb_build_varbinary(x'01060200000000000000000000003a3000000100000000000000100000000100010000003a3000000100000000000000100000000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01060200000000000000000000003a3000000100000000000000100000000100010000003a3000000100000000000000100000000000'), 'roaring'))
01060200000000000000000000003A3000000100000000000000100000000100010000003A3000000100000000000000100000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01060100000000000000000000003a3000000100000000001f001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e001f00'), 'roaring'))
01053A3000000100000000001F001000000000000100020003000400050006000700080009000A000B000C000D000E000F0010001100120013001400150016001700180019001A001B001C001D001E001F00
select hex(rb_to_varbinary(rb_build_varbinary(x'01060200000000000000000000003a30000001000000ffff000010000000ffff010000003a3000000100000000001e001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b001c001d001e00'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01060200000000000000000000003a30000001000000ffff000010000000ffff010000003a3000000100000000001e001000000000000100020003000400050006000700080009000a000b000c000d000e000f0010001100120013001400150016001700180019001a001b
01060200000000000000000000003A30000001000000FFFF000010000000FFFF010000003A3000000100000000001E001000000000000100020003000400050006000700080009000A000B000C000D000E000F0010001100120013001400150016001700180019001A001B001C001D001E00
select hex(rb_to_varbinary(rb_build_varbinary(x'01062000000000000000000000003a3000000100000000000000100000000000010000003a3000000100000000000000100000000000020000003a3000000100000000000000100000000000030000003a3000000100000000000000100000000000040000003a3000000100000000000000100000000000050000003a3000000100000000000000100000000000060000003a3000000100000000000000100000000000070000003a3000000100000000000000100000000000080000003a3000000100000000000000100000000000090000003a30000001000000000000001000000000000a0000003a30000001000000000000001000000000000b0000003a30000001000000000000001000000000000c0000003a30000001000000000000001000000000000d0000003a30000001000000000000001000000000000e0000003a30000001000000000000001000000000000f0000003a3000000100000000000000100000000000100000003a3000000100000000000000100000000000110000003a3000000100000000000000100000000000120000003a3000000100000000000000100000000000130000003a3000000100000000000000100000000000140000003a3000000100000000000000100000000000150000003a3000000100000000000000100000000000160000003a3000000100000000000000100000000000170000003a3000000100000000000000100000000000180000003a3000000100000000000000100000000000190000003a30000001000000000000001000000000001a0000003a30000001000000000000001000000000001b0000003a30000001000000000000001000000000001c0000003a30000001000000000000001000000000001d0000003a30000001000000000000001000000000001e0000003a30000001000000000000001000000000001f0000003a3000000100000000000000100000000000'), 'roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'01062000000000000000000000003a3000000100000000000000100000000000010000003a3000000100000000000000100000000000020000003a3000000100000000000000100000000000030000003a3000000100000000000000100000000000040000003a30000001
01062000000000000000000000003A3000000100000000000000100000000000010000003A3000000100000000000000100000000000020000003A3000000100000000000000100000000000030000003A3000000100000000000000100000000000040000003A3000000100000000000000100000000000050000003A3000000100000000000000100000000000060000003A3000000100000000000000100000000000070000003A3000000100000000000000100000000000080000003A3000000100000000000000100000000000090000003A30000001000000000000001000000000000A0000003A30000001000000000000001000000000000B0000003A30000001000000000000001000000000000C0000003A30000001000000000000001000000000000D0000003A30000001000000000000001000000000000E0000003A30000001000000000000001000000000000F0000003A3000000100000000000000100000000000100000003A3000000100000000000000100000000000110000003A3000000100000000000000100000000000120000003A3000000100000000000000100000000000130000003A3000000100000000000000100000000000140000003A3000000100000000000000100000000000150000003A3000000100000000000000100000000000160000003A3000000100000000000000100000000000170000003A3000000100000000000000100000000000180000003A3000000100000000000000100000000000190000003A30000001000000000000001000000000001A0000003A30000001000000000000001000000000001B0000003A30000001000000000000001000000000001C0000003A30000001000000000000001000000000001D0000003A30000001000000000000001000000000001E0000003A30000001000000000000001000000000001F0000003A3000000100000000000000100000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'0100'), '  roaring'));
hex(rb_to_varbinary(rb_build_varbinary(x'0100'), '  roaring'))
01053A30000000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'roaring  '));
hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'roaring  '))
01053A30000000000000
select hex(rb_to_varbinary(rb_build_varbinary(x'0100'), ' roa ring  '));
ERROR 0A000: expected format except 'roaring' is not supported
select hex(rb_to_varbinary(rb_build_varbinary(x'0100'), 'roar
ing  '));
ERROR 0A000: expected format except 'roaring' is not supported
select hex(rb_from_string('10,
-2'));
hex(rb_from_string('10,
-2'))
0103020A000000FEFFFFFF
select hex(rb_from_string('10
,2'));
hex(rb_from_string('10
,2'))
010302020000000A000000
select hex(rb_from_string('10 \n, \n2'));
hex(rb_from_string('10 \n, \n2'))
010302020000000A000000
select hex(rb_from_string('10 \t, \t\n2'));
hex(rb_from_string('10 \t, \t\n2'))
010302020000000A000000
select hex(rb_from_string('10 \t, \t\n-2'));
hex(rb_from_string('10 \t, \t\n-2'))
0103020A000000FEFFFFFF
select rb_from_string('10 \t, \t-\n2');
ERROR HY000: Invalid data
drop table if exists t1,t2;
